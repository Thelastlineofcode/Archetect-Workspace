# Archetect Production Environment Configuration
# IMPORTANT: Generate secure values for all secrets before deploying!

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================
NODE_ENV=production
PORT=3000

# CORS: Add your frontend domain(s)
# Example: https://archetect.com,https://www.archetect.com
CORS_ORIGIN=https://your-frontend-domain.com

# ============================================================================
# DATABASE CONFIGURATION (PostgreSQL)
# ============================================================================
# Most cloud platforms provide DATABASE_URL automatically
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://user:password@host:5432/archetect

# Or use individual variables:
DB_HOST=your-db-host.com
DB_PORT=5432
DB_NAME=archetect
DB_USER=archetect_user
DB_PASSWORD=<CHANGE-TO-SECURE-PASSWORD>
DB_SSL=true
DB_POOL_MIN=2
DB_POOL_MAX=10

# ============================================================================
# REDIS CONFIGURATION (Optional - for caching)
# ============================================================================
REDIS_HOST=your-redis-host.com
REDIS_PORT=6379
REDIS_PASSWORD=<CHANGE-TO-SECURE-PASSWORD>
REDIS_DB=0

# ============================================================================
# JWT CONFIGURATION
# ============================================================================
# Generate with: openssl rand -hex 32
JWT_SECRET=<GENERATE-SECURE-256-BIT-SECRET>
JWT_EXPIRES_IN=1h
JWT_REFRESH_SECRET=<GENERATE-DIFFERENT-SECURE-256-BIT-SECRET>
JWT_REFRESH_EXPIRES_IN=7d

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================================================
# EXTERNAL SERVICES
# ============================================================================
# Python path for astrology engine
PYTHON_PATH=python3
ASTROLOGY_ENGINE_PATH=./astrology_engine/src

# ============================================================================
# FEATURE FLAGS
# ============================================================================
ENABLE_ASTROLOGY_APPROACH=true
ENABLE_BIG_FIVE_APPROACH=true
ENABLE_CRM_INTEGRATIONS=false

# ============================================================================
# LOGGING
# ============================================================================
LOG_LEVEL=info
LOG_FORMAT=json

# ============================================================================
# FRONTEND CONFIGURATION
# ============================================================================
FRONTEND_URL=https://your-frontend-domain.com

# ============================================================================
# OPTIONAL: ERROR TRACKING
# ============================================================================
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# ============================================================================
# OPTIONAL: EMAIL SERVICE (for password reset)
# ============================================================================
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_USER=apikey
# SMTP_PASSWORD=<your-sendgrid-api-key>
# EMAIL_FROM=noreply@archetect.com

# ============================================================================
# SECURITY NOTES
# ============================================================================
# 1. NEVER commit this file with real secrets to git
# 2. Use environment variable management from your platform
# 3. Rotate secrets regularly (every 90 days recommended)
# 4. Use different secrets for staging and production
# 5. Enable SSL/TLS for all database connections in production
